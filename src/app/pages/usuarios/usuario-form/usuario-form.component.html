<div class="col-12 animated fadeIn">
    <div class="card card-body">
        <h3 class="box-title m-b-20">
            <strong>
            <span class="text-muted">{{ modoCrear ? 'Nuevo Usuario' : 'Editar Usuario'}}</span>
            </strong>
        </h3>
        <div class="row">
            <!-- <div class="col-sm-5 col-xs-5">
                <div class="card">
                    <div class="card-body text-center">
                        <h3 class="card-title">Fotografía del Usuario</h3>
                        <h4 class="card-subtitle">{{ usuario.username }}</h4>

                        <img (click)="mostrarModal(usuario._id)" *ngIf="!imagenTemp" [src]="usuario.img | imagen" class="w150 rounded pointer">
                        <br>
                        <br>
                        <button (click)="mostrarModal(usuario._id)" class="btn btn-sm btn-outline-success">Elegir Imagen</button>
                    </div>
                </div>
            </div> -->

            <div class="col-sm-12 col-xs-12">
                <form [formGroup]="usuarioForm" (ngSubmit)="registrarUsuario()" class="needs-validation" autocomplete="off">
                    <div class="form-group">
                        <label for="nombre">Nombre Completo *</label>
                        <input formControlName="nombre" [class.is-invalid]="nombreNoValido" type="text" class="form-control form-control-sm" placeholder="Nombre Completo..." autocomplete="off">
                        <small *ngIf="nombreNoValido" class="text-danger">El campo es obligatorio</small>
                    </div>
                    <div class="form-group">
                        <label for="username">Nombre de Usuario *</label>
                        <input formControlName="username" [class.is-invalid]="usernameNoValido" type="text" class="form-control form-control-sm" placeholder="Nombre de usuario..." autocomplete="off">
                        <div *ngIf="usernameNoValido">
                            <small *ngIf="usuarioForm.get('username').hasError('required')" class="text-danger">El campo es obligatorio</small>
                            <small *ngIf="usuarioForm.get('username').hasError('notAvailable')" class="text-danger">El usuario ya está en uso</small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-6 form-group">
                            <label for="password1">Contraseña</label>
                            <input formControlName="password1" [class.is-invalid]="password1NoValido" type="password" class="form-control form-control-sm" placeholder="Contraseña...">
                            <small *ngIf="password1NoValido" class="text-danger">El campo es obligatorio</small>
                        </div>
                        <div class="col-6 form-group">
                            <label for="password2">Confirmar Contraseña</label>
                            <input formControlName="password2" [class.is-invalid]="password2NoValido" type="password" class="form-control form-control-sm" placeholder="Confirmar Contraseña...">
                            <small *ngIf="password2NoValido" class="text-danger">Las contraseñas deben ser iguales</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="perfil">Perfil</label>
                        <select formControlName="perfil" name="perfil" class="form-control form-control-sm" required>
                            <option value="">Seleccione Perfil</option>
                            <option *ngFor="let perfil of perfiles" [value]="perfil._id">{{perfil.nombre}}</option>
                        </select>
                        <small *ngIf="perfilNoValido" class="text-danger">El campo es obligatorio</small>
                    </div>
                    <button [disabled]="usuarioForm.invalid" class="btn btn-success waves-effect waves-light m-r-10">
                        <i class="fa fa-save"></i>
                        Guardar
                    </button>
                    <button (click)="activeModal.close('Close click')" class="btn btn-secondary btn-outline waves-effect waves-light">Cancelar</button>
                </form>
            </div>
        </div>
    </div>
</div>